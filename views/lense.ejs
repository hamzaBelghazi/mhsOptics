<script src="/js/interact.min.js"></script>
<div class="overlay_pd_container">
  <span class="material-icons close_pd_overlay">close</span>
  <div class="overlay_pd"></div>
  <div class="pd-content">
    <div class="pd-musered">
      <div class="video_container">
        <div class="output">
          <canvas class="canvas" id="canvas"> </canvas>
        </div>
        <div id="capture" class="capture">
          <video class="video" id="video">Video stream not available.</video>
        </div>
        <div id="drag-1" class="draggable hidden">
          <div class="left__controll hidden">
            <span class="controll_btn btn_left" id="left"></span>
            <span class="controll_btn btn_right" id="right"></span>
            <div class="left-pupil"></div>
            <span class="controll_btn btn_up" id="up"></span>
            <span class="controll_btn btn_down" id="down"></span>
          </div>
        </div>
        <div id="drag-2" class="draggable hidden">
          <div class="right__controll hidden">
            <span class="controll_btn btn_left" id="left"></span>
            <span class="controll_btn btn_right" id="right"></span>
            <div class="right-pupil"></div>

            <span class="controll_btn btn_up" id="up"></span>
            <span class="controll_btn btn_down" id="down"></span>
          </div>
        </div>
        <div id="select-cc" class="shape drag-resiz hidden">credit card</div>
      </div>
      <div class="rslt">
        <h1 class="your-pd pd-rslt"></h1>
        <div class="pd_controllers">
          <button class="dist hidden">resulte</button>
          <button id="startbutton"></button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- section identifer -->
<div class="prod_chain_nav">
  <div class="navigation">
    <a href="/product/<%= product.id %> ">back</a>
    <span class="siparetor">/</span>
    <p class="product__name">Customize lens</p>
  </div>
</div>
<!-- lenses wrapper -->
<div class="main-wraper">
  <div class="lense_wraper">
    <div class="lenses-type">
      <h1>lenses type</h1>
      <% lens[0].lensType.map( type=> { %>
      <div class="type">
        <label class="lighting" for="<%=`${type.subtitle.split(" ")[0]}`%>">
          <input
            id="<%=`${type.subtitle.split(" ")[0]}`%>"
            value="<%=`${type.subtitle.split(" ")[0]}`%>"
            type="radio"
            name="lens"
          />
          <div class="desc">
            <span> <%= type.subtitle %> </span>
            <p class="description-lens">
              <%= type.desc %> 
            </p>
          </div>
        </label>
      </div>
      <% } ) %>
    </div>
    <div class="parametre">
      <h1>Parametre</h1>

      <div class="parametre-ayes">
        <div class="ayes">
          <div class="space"></div>
          <div class="right"><span class="right-aye">right</span></div>
          <div class="left"><span class="left-aye">left</span></div>
        </div>
        <div class="Power">
          <div class="space"><span>Power</span></div>
          <div class="right">
            <select
              id="primaryPower"
              name="primaryPower"
              data-preview="right-sph"
            >
              <option value="">Select</option>
              <option value="-12.00">-12.00</option>
              <option value="-11.75">-11.75</option>
              <option value="-11.50">-11.50</option>
              <option value="-11.25">-11.25</option>
              <option value="-11.00">-11.00</option>
              <option value="-10.75">-10.75</option>
              <option value="-10.50">-10.50</option>

              <option value="-10.25">-10.25</option>
              <option value="-10.00">-10.00</option>
              <option value="9.75">9.75</option>
              <option value="-9.50">-9.50</option>
              <option value="-9.25">-9.25</option>
              <option value="-9.00">-9.00</option>
              <option value="-8.75">-8.75</option>
              <option value="-8.50">-8.50</option>
              <option value="-8.25">-8.25</option>
              <option value="-8.00">-8.00</option>
              <option value="-7.75">-7.75</option>
              <option value="-7.50">-7.50</option>
              <option value="-7.25">-7.25</option>
              <option value="-7.00">-7.00</option>
              <option value="-6.75">-6.75</option>
              <option value="-6.50">-6.50</option>
              <option value="-6.25">-6.25</option>
              <option value="-6.00">-6.00</option>
              <option value="-5.75">-5.75</option>
              <option value="-5.50">-5.50</option>
              <option value="-5.25">-5.25</option>
              <option value="-5.00">-5.00</option>
              <option value="-4.75">-4.75</option>
              <option value="-4.50">-4.50</option>
              <option value="-4.25">-4.25</option>
              <option value="-4.00">-4.00</option>
              <option value="-3.75">-3.75</option>
              <option value="-3.50">-3.50</option>
              <option value="-3.25">-3.25</option>
              <option value="-3.00">-3.00</option>
              <option value="-2.75">-2.75</option>
              <option value="-2.50">-2.50</option>
              <option value="-2.25">-2.25</option>
              <option value="-2.00">-2.00</option>
              <option value="-1.75">-1.75</option>
              <option value="-1.50">-1.50</option>
              <option value="-1.25">-1.25</option>
              <option value="-1.00">-1.00</option>
              <option value="-0.75">-0.75</option>
              <option value="-0.50">-0.50</option>
              <option value="-0.25">-0.25</option>
              <option selected="selected" value="-0.00">0.00</option>
              <option value="+0.25">+0.25</option>
              <option value="+0.50">+0.50</option>
              <option value="+0.75">+0.75</option>
              <option value="+1.00">+1.00</option>
              <option value="+1.25">+1.25</option>
              <option value="+1.50">+1.50</option>
              <option value="+1.75">+1.75</option>
              <option value="+2.00">+2.00</option>
              <option value="+2.25">+2.25</option>
              <option value="+2.50">+2.50</option>
              <option value="+2.75">+2.75</option>
              <option value="+3.00">+3.00</option>
              <option value="+3.25">+3.25</option>
              <option value="+3.50">+3.50</option>
              <option value="+3.75">+3.75</option>
              <option value="+4.00">+4.00</option>
              <option value="+4.25">+4.25</option>
              <option value="+4.50">+4.50</option>
              <option value="+4.75">+4.75</option>
              <option value="+5.00">+5.00</option>
              <option value="+5.25">+5.25</option>
              <option value="+5.50">+5.50</option>
              <option value="+5.75">+5.75</option>
              <option value="+6.00">+6.00</option>
            </select>
          </div>
          <div class="left">
            <select
              id="secondaryPower"
              name="secondaryPower"
              data-preview="left-sph"
            >
              <option value="">Select</option>
              <option value="-12.00">-12.00</option>
              <option value="-11.75">-11.75</option>
              <option value="-11.50">-11.50</option>
              <option value="-11.25">-11.25</option>
              <option value="-11.00">-11.00</option>
              <option value="-10.75">-10.75</option>
              <option value="-10.50">-10.50</option>

              <option value="-10.25">-10.25</option>
              <option value="-10.00">-10.00</option>
              <option value="9.75">9.75</option>
              <option value="-9.50">-9.50</option>
              <option value="-9.25">-9.25</option>
              <option value="-9.00">-9.00</option>
              <option value="-8.75">-8.75</option>
              <option value="-8.50">-8.50</option>
              <option value="-8.25">-8.25</option>
              <option value="-8.00">-8.00</option>
              <option value="-7.75">-7.75</option>
              <option value="-7.50">-7.50</option>
              <option value="-7.25">-7.25</option>
              <option value="-7.00">-7.00</option>
              <option value="-6.75">-6.75</option>
              <option value="-6.50">-6.50</option>
              <option value="-6.25">-6.25</option>
              <option value="-6.00">-6.00</option>
              <option value="-5.75">-5.75</option>
              <option value="-5.50">-5.50</option>
              <option value="-5.25">-5.25</option>
              <option value="-5.00">-5.00</option>
              <option value="-4.75">-4.75</option>
              <option value="-4.50">-4.50</option>
              <option value="-4.25">-4.25</option>
              <option value="-4.00">-4.00</option>
              <option value="-3.75">-3.75</option>
              <option value="-3.50">-3.50</option>
              <option value="-3.25">-3.25</option>
              <option value="-3.00">-3.00</option>
              <option value="-2.75">-2.75</option>
              <option value="-2.50">-2.50</option>
              <option value="-2.25">-2.25</option>
              <option value="-2.00">-2.00</option>
              <option value="-1.75">-1.75</option>
              <option value="-1.50">-1.50</option>
              <option value="-1.25">-1.25</option>
              <option value="-1.00">-1.00</option>
              <option value="-0.75">-0.75</option>
              <option value="-0.50">-0.50</option>
              <option value="-0.25">-0.25</option>
              <option selected="selected" value="-0.00">0.00</option>
              <option value="+0.25">+0.25</option>
              <option value="+0.50">+0.50</option>
              <option value="+0.75">+0.75</option>
              <option value="+1.00">+1.00</option>
              <option value="+1.25">+1.25</option>
              <option value="+1.50">+1.50</option>
              <option value="+1.75">+1.75</option>
              <option value="+2.00">+2.00</option>
              <option value="+2.25">+2.25</option>
              <option value="+2.50">+2.50</option>
              <option value="+2.75">+2.75</option>
              <option value="+3.00">+3.00</option>
              <option value="+3.25">+3.25</option>
              <option value="+3.50">+3.50</option>
              <option value="+3.75">+3.75</option>
              <option value="+4.00">+4.00</option>
              <option value="+4.25">+4.25</option>
              <option value="+4.50">+4.50</option>
              <option value="+4.75">+4.75</option>
              <option value="+5.00">+5.00</option>
              <option value="+5.25">+5.25</option>
              <option value="+5.50">+5.50</option>
              <option value="+5.75">+5.75</option>
              <option value="+6.00">+6.00</option>
            </select>
          </div>
        </div>
        <div class="Cylinder">
          <div class="space"><span>Cylinder</span></div>
          <div class="right">
            <select
              id="primaryCylinder"
              name="primaryCylinder"
              data-preview="right-cyl"
            >
              <option value="-3.00">-3.00</option>
              <option value="-2.75">-2.75</option>
              <option value="-2.50">-2.50</option>
              <option value="-2.25">-2.25</option>
              <option value="-2.00">-2.00</option>
              <option value="-1.75">-1.75</option>
              <option value="-1.50">-1.50</option>
              <option value="-1.25">-1.25</option>
              <option value="-1.00">-1.00</option>
              <option value="-0.75">-0.75</option>
              <option value="-0.50">-0.50</option>
              <option value="-0.25">-0.25</option>
              <option value="0.00" selected="selected">0.00</option>
              <option value="+0.25">+0.25</option>
              <option value="+0.50">+0.50</option>
              <option value="+0.75">+0.75</option>
              <option value="+1.00">+1.00</option>
              <option value="+1.25">+1.25</option>
              <option value="+1.50">+1.50</option>
              <option value="+1.75">+1.75</option>
              <option value="+2.00">+2.00</option>
              <option value="+2.25">+2.25</option>
              <option value="+2.50">+2.50</option>
              <option value="+2.75">+2.75</option>
              <option value="+3.00">+3.00</option>
            </select>
          </div>
          <div class="left">
            <select
              id="seondaryCylinder"
              name="seondaryCylinder"
              data-preview="left-cyl"
            >
              <option value="-3.00">-3.00</option>
              <option value="-2.75">-2.75</option>
              <option value="-2.50">-2.50</option>
              <option value="-2.25">-2.25</option>
              <option value="-2.00">-2.00</option>
              <option value="-1.75">-1.75</option>
              <option value="-1.50">-1.50</option>
              <option value="-1.25">-1.25</option>
              <option value="-1.00">-1.00</option>
              <option value="-0.75">-0.75</option>
              <option value="-0.50">-0.50</option>
              <option value="-0.25">-0.25</option>
              <option value="0.00" selected="selected">0.00</option>
              <option value="+0.25">+0.25</option>
              <option value="+0.50">+0.50</option>
              <option value="+0.75">+0.75</option>
              <option value="+1.00">+1.00</option>
              <option value="+1.25">+1.25</option>
              <option value="+1.50">+1.50</option>
              <option value="+1.75">+1.75</option>
              <option value="+2.00">+2.00</option>
              <option value="+2.25">+2.25</option>
              <option value="+2.50">+2.50</option>
              <option value="+2.75">+2.75</option>
              <option value="+3.00">+3.00</option>
            </select>
          </div>
        </div>
        <div class="Axis">
          <div class="space"><span>Axis</span></div>
          <div class="right">
            <select
              id="primaryAxis"
              name="primaryAxis"
              data-preview="right-ax"
            ></select>
          </div>
          <div class="left">
            <select
              id="seondaryAxis"
              name="seondaryAxis"
              data-preview="left-ax"
            ></select>
          </div>
        </div>
        <div class="Addition hidden">
          <div class="space"><span>Addition</span></div>
          <div class="right">
            <select
              id="primaryAddition"
              name="primaryAddition"
              data-preview="right-a"
            >
              <option value="0.00" selected="selected">0.00</option>
              <option value="+0.25">+0.25</option>
              <option value="+0.50">+0.50</option>
              <option value="+0.75">+0.75</option>
              <option value="+1.00">+1.00</option>
              <option value="+1.25">+1.25</option>
              <option value="+1.50">+1.50</option>
              <option value="+1.75">+1.75</option>
              <option value="+2.00">+2.00</option>
              <option value="+2.25">+2.25</option>
              <option value="+2.50">+2.50</option>
              <option value="+2.75">+2.75</option>
              <option value="+3.00">+3.00</option>
              <option value="+3.25">+3.25</option>
              <option value="+3.50">+3.50</option>
              <option value="+3.75">+3.75</option>
              <option value="+4.00">+4.00</option>
            </select>
          </div>
          <div class="left">
            <select
              id="seondaryAddition"
              name="seondaryAddition"
              data-preview="left-a"
            >
              <option value="0.00" selected="selected">0.00</option>
              <option value="+0.25">+0.25</option>
              <option value="+0.50">+0.50</option>
              <option value="+0.75">+0.75</option>
              <option value="+1.00">+1.00</option>
              <option value="+1.25">+1.25</option>
              <option value="+1.50">+1.50</option>
              <option value="+1.75">+1.75</option>
              <option value="+2.00">+2.00</option>
              <option value="+2.25">+2.25</option>
              <option value="+2.50">+2.50</option>
              <option value="+2.75">+2.75</option>
              <option value="+3.00">+3.00</option>
              <option value="+3.25">+3.25</option>
              <option value="+3.50">+3.50</option>
              <option value="+3.75">+3.75</option>
              <option value="+4.00">+4.00</option>
            </select>
          </div>
        </div>
        <div class="PD">
          <div class="space"><span>PD</span></div>
          <div class="right">
            <select id="onePD" name="onePD" data-preview="total-spd">
              <option value="0" selected="selected">Set PD</option>
              <option value="42">42</option>
              <option value="43">43</option>
              <option value="44">44</option>
              <option value="45">45</option>
              <option value="46">46</option>
              <option value="47">47</option>
              <option value="48">48</option>
              <option value="49">49</option>
              <option value="50">50</option>
              <option value="51">51</option>
              <option value="52">52</option>
              <option value="53">53</option>
              <option value="54">54</option>
              <option value="55">55</option>
              <option value="56">56</option>
              <option value="57">57</option>
              <option value="58">58</option>
              <option value="59">59</option>
              <option value="60">60</option>
              <option value="61">61</option>
              <option value="62">62</option>
              <option value="63">63</option>
              <option value="64">64</option>
              <option value="65">65</option>
              <option value="66">66</option>
              <option value="67">67</option>
              <option value="68">68</option>
              <option value="69">69</option>
              <option value="70">70</option>
              <option value="71">71</option>
              <option value="72">72</option>
            </select>
            <select
              id="primaryPD"
              name="primaryPD"
              data-preview="right-spd"
              class="hidden"
            >
              <option value="0" selected="selected">right PD</option>
              <option value="22">22</option>
              <option value="22.5">22.5</option>
              <option value="23">23</option>
              <option value="23.5">23.5</option>
              <option value="24">24</option>
              <option value="24.5">24.5</option>
              <option value="25">25</option>
              <option value="25.5">25.5</option>
              <option value="26">26</option>
              <option value="26.5">26.5</option>
              <option value="27">27</option>
              <option value="27.5">27.5</option>
              <option value="28">28</option>
              <option value="28.5">28.5</option>
              <option value="29">29</option>
              <option value="29.5">29.5</option>
              <option value="30">30</option>
              <option value="30.5">30.5</option>
              <option value="31">31</option>
              <option value="31.5">31.5</option>
              <option value="32">32</option>
              <option value="32.5">32.5</option>
              <option value="33">33</option>
              <option value="33.5">33.5</option>
              <option value="34">34</option>
              <option value="34.5">34.5</option>
              <option value="35">35</option>
              <option value="35.5">35.5</option>
              <option value="36">36</option>
              <option value="36.5">36.5</option>
              <option value="37">37</option>
              <option value="37.5">37.5</option>
              <option value="38">38</option>
              <option value="38.5">38.5</option>
              <option value="39">39</option>
              <option value="39.5">39.5</option>
              <option value="40">40</option>
            </select>
          </div>
          <div class="left">
            <select
              id="seondaryPD"
              name="seondaryPD"
              data-preview="left-spd"
              class="hidden"
            >
              <option value="0" selected="selected">left PD</option>
              <option value="22">22</option>
              <option value="22.5">22.5</option>
              <option value="23">23</option>
              <option value="23.5">23.5</option>
              <option value="24">24</option>
              <option value="24.5">24.5</option>
              <option value="25">25</option>
              <option value="25.5">25.5</option>
              <option value="26">26</option>
              <option value="26.5">26.5</option>
              <option value="27">27</option>
              <option value="27.5">27.5</option>
              <option value="28">28</option>
              <option value="28.5">28.5</option>
              <option value="29">29</option>
              <option value="29.5">29.5</option>
              <option value="30">30</option>
              <option value="30.5">30.5</option>
              <option value="31">31</option>
              <option value="31.5">31.5</option>
              <option value="32">32</option>
              <option value="32.5">32.5</option>
              <option value="33">33</option>
              <option value="33.5">33.5</option>
              <option value="34">34</option>
              <option value="34.5">34.5</option>
              <option value="35">35</option>
              <option value="35.5">35.5</option>
              <option value="36">36</option>
              <option value="36.5">36.5</option>
              <option value="37">37</option>
              <option value="37.5">37.5</option>
              <option value="38">38</option>
              <option value="38.5">38.5</option>
              <option value="39">39</option>
              <option value="39.5">39.5</option>
              <option value="40">40</option>
            </select>
          </div>
        </div>
        <label id="pd-check" for="have-pd"
          ><input
            type="checkbox"
            name="have-pd"
            id="have-pd"
            onClick="havTwoPd()"
          />
          <span>have two PDs!</span>
        </label>
      </div>
      <div class="params-tbl-wraper">
        <div class="params-tbl">
          <div class="derection">
            <span class="params-header"></span>
            <span>right</span>
            <span>left</span>
          </div>
          <div>
            <span class="params-header">SPH</span>
            <span class="right-sph"></span>
            <span class="left-sph"></span>
          </div>
          <div>
            <span class="params-header">CYL</span>
            <span class="right-cyl"></span>
            <span class="left-cyl"></span>
          </div>
          <div class="add-p hidden">
            <span class="params-header">ADD</span>
            <span class="right-a"></span>
            <span class="left-a"></span>
          </div>
          <div>
            <span class="params-header">AX</span>
            <span class="right-ax"></span>
            <span class="left-ax"></span>
          </div>
        </div>
        <div class="params-pd">
          <span class="params-header">PD</span>
          <svg
            class="pd-img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 134.15 60.12"
          >
            <path
              class="cls-1"
              d="M134.15,1.4c0-.77-26-1.4-58.16-1.4C-23.95,0-6.24,2.68,22.4,2.82A24.65,24.65,0,1,0,56.58,27.44c7-7.74,13.87-8.11,21.2,0A24.65,24.65,0,1,0,111.91,2.82C125.43,2.75,134.15,2.45,134.15,1.4ZM32,48.35a23,23,0,1,1,23-23A23,23,0,0,1,32,48.35Zm24.62-22.8A24.68,24.68,0,0,0,41.52,2.82H65.09l1.06,16.7C64,20,59.16,21.53,56.58,25.55Zm21,0C75,21.55,70.16,20,68,19.49L69.1,2.79H92.67a24.69,24.69,0,0,0-15,22.76Zm47.66-.21a23,23,0,1,1-23-23,23.3,23.3,0,0,1,4.78.5,23,23,0,0,1,18.28,22.5Z"
            ></path>
            <path
              class="cls-1"
              d="M33.83,25A2.06,2.06,0,1,1,31.76,23h.07A2.06,2.06,0,0,1,33.83,25Z"
            ></path>
            <circle class="cls-1" cx="102.49" cy="24.99" r="2.06"></circle>
            <line
              class="cls-2"
              x1="31.78"
              y1="60.07"
              x2="102.49"
              y2="60.07"
            ></line>
            <line
              class="cls-2"
              x1="31.78"
              y1="25.26"
              x2="31.78"
              y2="60.11"
            ></line>
            <line
              class="cls-2"
              x1="67.14"
              y1="25.1"
              x2="67.14"
              y2="60.07"
            ></line>
            <line
              class="cls-2"
              x1="102.49"
              y1="25.24"
              x2="102.49"
              y2="60.09"
            ></line>
          </svg>
          <div class="spd-ayes">
            <span class="left-spd"></span>
            <span class="right-spd"></span>
            <span class="total-spd"></span>
          </div>
        </div>
      </div>
    </div>
    <div class="ms-pd">
      <span class="ms-pd-span try-on primary_button" id="try-on"
        >Measure PD online</span
      >
      <span class="ms-pd-span primary_button">
        <a
          href="https://msoptics.be/wp-content/uploads/2021/03/ruller-mspotics.pdf"
          target="_blank"
          >Measure by Ruller</a
        >
      </span>
    </div>

    <div class="Benefits">
      <h3>Benefits</h3>
      <div class="benefit-wraper">
        <div class="benefit">
          <img src="/assets/frame-icon-uv-crulle.png" />
          <div class="benefit-text">
            <p class="benefit-desc">UV FILTER</p>
          </div>
        </div>
        <div class="benefit">
          <img src="/assets/frame-icon-protection-crulle.png" />
          <div class="benefit-text">
            <p class="benefit-desc">HARDENED</p>
          </div>
        </div>
        <div class="benefit">
          <img src="/assets/frame-icon-cleaning-crulle.png" />
          <div class="benefit-text">
            <p class="benefit-desc">SELF-CLEANING COATING</p>
          </div>
        </div>
        <div class="benefit">
          <img src="/assets/frame-icon-hydro-crulle.png" />
          <div class="benefit-text">
            <p class="benefit-desc">SUPERHYDROPHOBIC COATING</p>
          </div>
        </div>
        <div class="benefit">
          <img src="/assets/frame-icon-antireflex-crulle.png" />
          <div class="benefit-text">
            <p class="benefit-desc">ANTI-REFLECTIVE</p>
          </div>
        </div>
      </div>
    </div>

    <div class="Thickness-type">
      <h1>Thickness</h1>
      <% lens[0].thickness.map( tk=> { %>
      <div class="type">
        <label for="<%= `${tk.subtitle.split(" ")[0]}` %> ">
          <input
            id="<%= `${tk.subtitle.split(" ")[0]}` %>"
            value="<%= `${tk.subtitle.split(" ")[0]}` %>"
            type="radio"
            name="thickness"
            data-f="<%= tk.price %>"
            required
          />
          <div class="thik-desc">
            <span class="title-tk"><%= tk.subtitle %></span>
            <img src="/img/lenses/<%= tk.photo %>" alt="lens">
            <p class="description-thickness">
              <%= tk.refraction %>
              <small class="bold"> 
                <%= tk.desc %>
              </small>
            </p>
            <p class="price-tickness">
              <span class="price">
                <%= tk.price %>
              </span>
              <span class="currency">$</span>
            </p>
          </div>
        </label>
      </div>
      <% } ) %>
    </div>
    <div class="ad-lenses-type">
      <h1>Advanced lens type</h1>
      <% lens[0].advancedLensType.map( aType=> { %>
      <div class="type">
        <label for="<%= `${aType.subtitle.split(" ")[0]}` %>">
          <input
            id="<%= `${aType.subtitle.split(" ")[0]}` %> "
            type="radio"
            value="<%= `${aType.subtitle.split(" ")[0]}` %>"
            name="advanced-lens"
            data-f="<%= aType.price %>"
            required
          />
          <div class="thik-desc">
            <span class="title"><%= aType.subtitle %> </span>
            <p class="description"><%= aType.desc %></p>
            <p class="price">
              <span class="price">
                <%= aType.price %>
              </span> <span class="currency">$</span>
            </p>
          </div>
        </label>
      </div>
      <% } ) %>

    </div>
  </div>
  <main class="product-section">
    <section class="product-wraper">
      <h3><%= product.title %></h3>
      <img src="/img/products/<%= product.images[0] %>" />

      <div class="frames_price">
        <div class="custom-div-prices">
          <span>Frames</span>
          <span><%= product.price %>
            <span class="currency">$</span> </span>
        </div>
      </div>

      <div class="params-price">
        <div class="custom-div-prices">
          <span>Thickness</span>
          <p>
            + <span class="custom-thik-price">0</span>
            <span class="currency">$</span>
          </p>
        </div>
        <div class="custom-div-prices">
          <span>Advanced lens type</span>
          <p>
            + <span class="custom-alt-price">0</span>
            <span class="currency">$</span>
          </p>
        </div>
        <div class="total-div-prices">
          <span> total</span>
          <p>
            <span class="custom-total-price"> <%= product.price %> </span>
            <span class="currency">$</span>
          </p>
        </div>
      </div>
      <a
        href="#"
        data-id="<%= product.id %> "
        class="add-to-cart-btn add_lenses_to_cart primary_button"
        >add to cart</a
      >
    </section>
  </main>
</div>
<script>
  if (interact) {
  interact('.draggable').draggable({
    // enable inertial throwing
    inertia: true,
    // keep the element within the area of it's parent
    restrict: {
      restriction: 'parent',
      endOnly: true,
      elementRect: { top: 0, left: 0, bottom: 1, right: 1 },
    },
    // enable autoScroll
    autoScroll: true,

    onstart: function (event) {
      // console.log('onstart');
    },

    // call this function on every dragmove event
    onmove: dragMoveListener,
    // call this function on every dragend event
    onend: function (event) {
      // console.log("end");
    },
  });

  function dragMoveListener(event) {
    // console.log("dragMoveListener");
    var target = event.target,
      // keep the dragged position in the data-x/data-y attributes
      x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
      y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

    // translate the element
    target.style.webkitTransform = target.style.transform =
      'translate(' + x + 'px, ' + y + 'px)';

    // update the position attributes
    target.setAttribute('data-x', x);
    target.setAttribute('data-y', y);
  }
  // target elements with the "draggable" class

  interact('.drag-resiz')
    .resizable({
      edges: { top: true, left: true, bottom: true, right: true },
      invert: 'reposition',
      listeners: {
        move: function (event) {
          let { x, y } = event.target.dataset;

          x = (parseFloat(x) || 0) + event.deltaRect.left;
          y = (parseFloat(y) || 0) + event.deltaRect.top;

          Object.assign(event.target.style, {
            width: `${event.rect.width}px`,
            height: `${event.rect.height}px`,
            transform: `translate(${x}px, ${y}px)`,
          });

          Object.assign(event.target.dataset, { x, y });
        },
      },
    })
    .draggable({
      // enable inertial throwing
      inertia: true,
      // keep the element within the area of it's parent
      restrict: {
        restriction: 'parent',
        endOnly: true,
        elementRect: { top: 0, left: 0, bottom: 1, right: 1 },
      },
      // enable autoScroll
      autoScroll: true,

      onstart: function (event) {
        // console.log("onstart");
      },

      // call this function on every dragmove event
      onmove: dragMoveListener,
      // call this function on every dragend event
      onend: function (event) {
        // console.log("onend");
        // var textEl = event.target.querySelector("p");
        // textEl && (textEl.textContent = "moved a distance of " + (Math.sqrt(event.dx * event.dx + event.dy * event.dy) | 0) + "px");
      },
    });

  function dragMoveListener(event) {
    // console.log("dragMoveListener");
    var target = event.target,
      // keep the dragged position in the data-x/data-y attributes
      x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
      y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

    // translate the element
    target.style.webkitTransform = target.style.transform =
      'translate(' + x + 'px, ' + y + 'px)';

    // update the position attributes
    target.setAttribute('data-x', x);
    target.setAttribute('data-y', y);
  }
}
</script>